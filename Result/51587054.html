<meta charset="utf-8"><div id="article_content" class="article_content">

<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　1. 为php添加 sqlsrv 扩展&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　去微软官网 https://www.microsoft.com/en-us/download/ 搜索php ,&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　点击 Microsoft Drivers for PHP for SQL Server&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　下载最新版的 sqlsrvXX.exe( 我下载的是SQLSRV32.EXE )&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　运行解压, 得到一堆DLL, 选取适合自己php版本的dll, 放到php\ext\目录下; (我的php版本为5.6.3, 选取的是php_sqlsrv_56_ts.dll, 56就是5.6.x的php版本)&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　在php.ini 增加一行 extension=php_sqlsrv_56_ts.dll&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　重启服务, 查看phpinfo(), 如果有sqlsrv项, 证明扩展以安装成功.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　又因为 SQLSRV3.X.EXE 需要额外的驱动 Microsoft ODBC Driver 11 (或更高版本), 所以需要安装 Microsoft ODBC Driver 11&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　访问 https://msdn.microsoft.com/en-us/library/cc296170%28v=sql.105%29.aspx&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　找到这段话&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　Versions 3.2 and 3.1 require Microsoft ODBC Driver 11 (or higher) for SQL Server. To download the Microsoft ODBC Driver 11 for PHP for SQL Server, see Microsoft ODBC Driver
 11 for SQL Server.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　点击 Microsoft ODBC Driver 11 for SQL Server.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　下载安装.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　全部完成!!!!!&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　写个测试脚本&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　[php] view plaincopy&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$serverName = &quot;xxxxxx&quot;; //serverName\instanceName&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$connectionInfo = array( &quot;Database&quot;=&gt;&quot;&quot;, &quot;UID&quot;=&gt;&quot;xxx&quot;, &quot;PWD&quot;=&gt;&quot;xxx&quot;);&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$conn = sqlsrv_connect( $serverName, $connectionInfo);&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　if( $conn ) {&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　echo &quot;Connection established.&lt;br /&gt;&quot;;&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　}else{&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　echo &quot;Connection could not be established.&lt;br /&gt;&quot;;&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　die( print_r( sqlsrv_errors(), true));&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　}&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　2. 在CI配置sqlsrv数据库配置 (CI 3.0.0为例)&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　//静态配置&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　打开config\database.php 修改, 注意 dbdriver这个项填上 sqlsrv&nbsp; ;&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　//动态配置 或 多数据库&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　在model 文件中, 在构造函数里面 (记得写parent::__contruct() 来继承父类的构造函数) 加入&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$this-&gt;another_db = $this-&gt;load-&gt;database( $config, true ); //$config可以直接从database.php复制, true为有返回&#20540;.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　然后就可以飞了.&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$this-&gt;another_db-&gt;get();&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　$this-&gt;another_db-&gt;get_where();&nbsp;</span><br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<br style="margin:0px; padding:0px; border:0px; word-wrap:break-word; color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(79,79,78); font-family:Arial; font-size:14px; line-height:26px">　　.....&nbsp;</span>
   
</div>




<!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox tracking-ad" style="float: right;" data-mod="popu_172">
<a href="#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important"></a>
<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"  style="background-position:0 -52px !important"></a>
<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"style="background-position:0 -104px !important"></a>
<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"style="background-position:0 -260px !important"></a>
<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"style="background-position:0 -208px !important"></a>
<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"style="background-position:0 -1612px !important" ></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

   <link rel="stylesheet" href="http://static.blog.csdn.net/css/blog_detail.css" />

    
<!--172.16.140.11-->

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- B